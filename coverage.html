
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>lbaas: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">github.com/MagaluCloud/mgc-sdk-go/lbaas/client.go (100.0%)</option>
				
				<option value="file1">github.com/MagaluCloud/mgc-sdk-go/lbaas/common.go (100.0%)</option>
				
				<option value="file2">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_acls.go (87.5%)</option>
				
				<option value="file3">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_backend.go (87.5%)</option>
				
				<option value="file4">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_backend_targets.go (86.7%)</option>
				
				<option value="file5">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_certificates.go (87.5%)</option>
				
				<option value="file6">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_healthchecks.go (88.6%)</option>
				
				<option value="file7">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_listners.go (82.4%)</option>
				
				<option value="file8">github.com/MagaluCloud/mgc-sdk-go/lbaas/network_loadbalancers.go (91.7%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">not covered</span>
				<span class="cov8">covered</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package lbaas

import (
        "context"
        "net/http"

        "github.com/MagaluCloud/mgc-sdk-go/client"
        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const (
        DefaultBasePath = "/load-balancer"
)

type LbaasClient struct {
        *client.CoreClient
}

func New(core *client.CoreClient) *LbaasClient <span class="cov8" title="1">{
        if core == nil </span><span class="cov8" title="1">{
                return nil
        }</span>
        <span class="cov8" title="1">return &amp;LbaasClient{CoreClient: core}</span>
}

func (c *LbaasClient) newRequest(ctx context.Context, method, path string, body any) (*http.Request, error) <span class="cov8" title="1">{
        return mgc_http.NewRequest(c.GetConfig(), ctx, method, DefaultBasePath+path, &amp;body)
}</span>

func (c *LbaasClient) NetworkACLs() NetworkACLService <span class="cov8" title="1">{
        return &amp;networkACLService{client: c}
}</span>

func (c *LbaasClient) NetworkBackends() NetworkBackendService <span class="cov8" title="1">{
        return &amp;networkBackendService{client: c}
}</span>

func (c *LbaasClient) NetworkCertificates() NetworkCertificateService <span class="cov8" title="1">{
        return &amp;networkCertificateService{client: c}
}</span>

func (c *LbaasClient) NetworkHealthChecks() NetworkHealthCheckService <span class="cov8" title="1">{
        return &amp;networkHealthCheckService{client: c}
}</span>

func (c *LbaasClient) NetworkListeners() NetworkListenerService <span class="cov8" title="1">{
        return &amp;networkListenerService{client: c}
}</span>

func (c *LbaasClient) NetworkLoadBalancers() NetworkLoadBalancerService <span class="cov8" title="1">{
        return &amp;networkLoadBalancerService{client: c}
}</span>
</pre>
		
		<pre class="file" id="file1" style="display: none">package lbaas

import (
        "encoding/json"
        "strings"
)

func urlNetworkLoadBalancer(lbID *string, extraPath ...string) string <span class="cov8" title="1">{
        result := "/v0beta1/network-load-balancers"
        if lbID == nil || *lbID == "" </span><span class="cov8" title="1">{
                return result
        }</span>
        <span class="cov8" title="1">result += "/" + *lbID
        if len(extraPath) &gt; 0 </span><span class="cov8" title="1">{
                result += "/" + strings.Join(extraPath, "/")
        }</span>
        <span class="cov8" title="1">return result</span>
}

func (t *TargetsRawOrInstancesRequest) UnmarshalJSON(data []byte) error <span class="cov8" title="1">{
        var targets any
        if err := json.Unmarshal(data, &amp;targets); err != nil </span><span class="cov8" title="1">{
                return err
        }</span>
        <span class="cov8" title="1">return nil</span>
}

func (t *TargetsRawOrInstancesRequest) MarshalJSON() ([]byte, error) <span class="cov8" title="1">{
        if len(t.TargetsInstances) &gt; 0 </span><span class="cov8" title="1">{
                return json.Marshal(t.TargetsInstances)
        }</span>
        <span class="cov8" title="1">if len(t.TargetsRaw) &gt; 0 </span><span class="cov8" title="1">{
                return json.Marshal(t.TargetsRaw)
        }</span>
        <span class="cov8" title="1">return nil, nil</span>
}

func (t *TargetsRawOrInstancesUpdateRequest) UnmarshalJSON(data []byte) error <span class="cov8" title="1">{
        var targets any
        if err := json.Unmarshal(data, &amp;targets); err != nil </span><span class="cov8" title="1">{
                return err
        }</span>
        <span class="cov8" title="1">return nil</span>
}

func (t *TargetsRawOrInstancesUpdateRequest) MarshalJSON() ([]byte, error) <span class="cov8" title="1">{
        if len(t.TargetsInstances) &gt; 0 </span><span class="cov8" title="1">{
                return json.Marshal(t.TargetsInstances)
        }</span>
        <span class="cov8" title="1">if len(t.TargetsRaw) &gt; 0 </span><span class="cov8" title="1">{
                return json.Marshal(t.TargetsRaw)
        }</span>
        <span class="cov8" title="1">return nil, nil</span>
}
</pre>
		
		<pre class="file" id="file2" style="display: none">package lbaas

import (
        "context"
        "net/http"

        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const acls = "acls"

type (
        CreateNetworkACLRequest struct {
                Name           *string       `json:"name,omitempty"`
                Ethertype      AclEtherType  `json:"ethertype"` // ipv4, ipv6
                LoadBalancerID string        `json:"load_balancer_id"`
                Action         AclActionType `json:"action"`   // ALLOW, DENY, DENY_UNSPECIFIED
                Protocol       AclProtocol   `json:"protocol"` // tcp, tls
                RemoteIPPrefix string        `json:"remote_ip_prefix"`
        }

        GetNetworkACLRequest struct {
                LoadBalancerID string `json:"-"`
                NetworkACLID   string `json:"-"`
        }

        ListNetworkACLRequest struct {
                LoadBalancerID string `json:"-"`
        }

        DeleteNetworkACLRequest struct {
                LoadBalancerID string `json:"load_balancer_id"`
                ID             string `json:"id"`
        }

        NetworkACLService interface {
                Create(ctx context.Context, req CreateNetworkACLRequest) (string, error)
                // Get(ctx context.Context, req GetNetworkACLRequest) (*NetworkAclResponse, error)
                // List(ctx context.Context, req ListNetworkACLRequest) ([]NetworkAclResponse, error)
                Delete(ctx context.Context, req DeleteNetworkACLRequest) error
        }

        networkACLService struct {
                client *LbaasClient
        }
)

func (s *networkACLService) Create(ctx context.Context, req CreateNetworkACLRequest) (string, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, acls)
        body := CreateNetworkACLRequest{
                Name:           req.Name,
                Ethertype:      req.Ethertype,
                Protocol:       req.Protocol,
                RemoteIPPrefix: req.RemoteIPPrefix,
                Action:         req.Action,
        }

        httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, body)
        if err != nil </span><span class="cov0" title="0">{
                return "", err
        }</span>

        <span class="cov8" title="1">var resp struct {
                ID string `json:"id"`
        }

        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return "", err
        }</span>
        <span class="cov8" title="1">return result.ID, nil</span>
}

// func (s *networkACLService) Get(ctx context.Context, req GetNetworkACLRequest) (*NetworkAclResponse, error) {
//         // GET /v0beta1/network-load-balancers/{load_balancer_id}/acls/{acl_id}
//         path := "/v0beta1/network-load-balancers/" + req.LoadBalancerID + "/acls/" + req.NetworkACLID

//         httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
//         if err != nil {
//                 return nil, err
//         }

//         result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;NetworkAclResponse{})
//         if err != nil {
//                 return nil, err
//         }
//         return result, nil
// }

// func (s *networkACLService) List(ctx context.Context, req ListNetworkACLRequest) ([]NetworkAclResponse, error) {
//         // GET /v0beta1/network-load-balancers/{load_balancer_id}/acls
//         path := "/v0beta1/network-load-balancers/" + req.LoadBalancerID + "/acls"

//         httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
//         if err != nil {
//                 return nil, err
//         }

//         result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;[]NetworkAclResponse{})
//         if err != nil {
//                 return nil, err
//         }
//         return *result, nil
// }

func (s *networkACLService) Delete(ctx context.Context, req DeleteNetworkACLRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, acls, req.ID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		<pre class="file" id="file3" style="display: none">package lbaas

import (
        "context"
        "net/http"

        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const backends = "backends"

type (
        NetworkBackendInstanceRequest struct {
                NicID string `json:"nic_id"`
                Port  int    `json:"port"`
        }

        NetworkBackendRawTargetRequest struct {
                IPAddress string `json:"ip_address"`
                Port      int    `json:"port"`
        }

        TargetsRawOrInstancesRequest struct {
                TargetsInstances []NetworkBackendInstanceRequest  `json:"-"`
                TargetsRaw       []NetworkBackendRawTargetRequest `json:"-"`
        }

        NetworkBackendInstanceUpdateRequest struct {
                NicID string `json:"nic_id"`
                Port  int    `json:"port"`
        }

        NetworkBackendRawTargetUpdateRequest struct {
                IPAddress string `json:"ip_address"`
                Port      int    `json:"port"`
        }

        TargetsRawOrInstancesUpdateRequest struct {
                TargetsInstances []NetworkBackendInstanceUpdateRequest  `json:"-"`
                TargetsRaw       []NetworkBackendRawTargetUpdateRequest `json:"-"`
        }

        CreateNetworkBackendRequest struct {
                LoadBalancerID   string                        `json:"-"`
                Name             string                        `json:"name"`
                Description      *string                       `json:"description,omitempty"`
                BalanceAlgorithm BackendBalanceAlgorithm       `json:"balance_algorithm"`
                TargetsType      BackendType                   `json:"targets_type"`
                Targets          *TargetsRawOrInstancesRequest `json:"targets,omitempty"`
                HealthCheckID    *string                       `json:"health_check_id,omitempty"`
        }

        DeleteNetworkBackendRequest struct {
                LoadBalancerID string `json:"-"`
                BackendID      string `json:"-"`
        }

        GetNetworkBackendRequest struct {
                LoadBalancerID string `json:"-"`
                BackendID      string `json:"-"`
        }

        ListNetworkBackendRequest struct {
                LoadBalancerID string `json:"-"`
        }

        UpdateNetworkBackendRequest struct {
                LoadBalancerID   string                              `json:"-"`
                BackendID        string                              `json:"-"`
                Name             *string                             `json:"name,omitempty"`
                Description      *string                             `json:"description,omitempty"`
                BalanceAlgorithm *BackendBalanceAlgorithm            `json:"balance_algorithm,omitempty"`
                TargetsType      *BackendType                        `json:"targets_type,omitempty"`
                Targets          *TargetsRawOrInstancesUpdateRequest `json:"targets,omitempty"`
                TargetsInstances *[]NetworkBackendInstanceRequest    `json:"targets_instances,omitempty"`
                TargetsRaw       *[]NetworkBackendRawTargetRequest   `json:"targets_raw,omitempty"`
                HealthCheckID    *string                             `json:"health_check_id,omitempty"`
        }

        NetworkBackendInstanceResponse struct {
                ID        string  `json:"id"`
                IPAddress *string `json:"ip_address,omitempty"`
                NicID     string  `json:"nic_id,omitempty"`
                Port      int     `json:"port"`
                CreatedAt string  `json:"created_at"`
                UpdatedAt string  `json:"updated_at"`
        }

        NetworkBackendRawTargetResponse struct {
                ID        string  `json:"id"`
                IPAddress *string `json:"ip_address,omitempty"`
                Port      int     `json:"port"`
                CreatedAt string  `json:"created_at"`
                UpdatedAt string  `json:"updated_at"`
        }

        NetworkBackendResponse struct {
                ID               string                  `json:"id"`
                HealthCheckID    *string                 `json:"health_check_id,omitempty"`
                Name             string                  `json:"name"`
                Description      *string                 `json:"description,omitempty"`
                BalanceAlgorithm BackendBalanceAlgorithm `json:"balance_algorithm"`
                TargetsType      BackendType             `json:"targets_type"`
                Targets          interface{}             `json:"targets"`
                CreatedAt        string                  `json:"created_at"`
                UpdatedAt        string                  `json:"updated_at"`
        }

        NetworkPaginatedBackendResponse struct {
                Meta    interface{}              `json:"meta"`
                Results []NetworkBackendResponse `json:"results"`
        }

        NetworkBackendService interface {
                Create(ctx context.Context, req CreateNetworkBackendRequest) (string, error)
                Delete(ctx context.Context, req DeleteNetworkBackendRequest) error
                Get(ctx context.Context, req GetNetworkBackendRequest) (*NetworkBackendResponse, error)
                List(ctx context.Context, req ListNetworkBackendRequest) ([]NetworkBackendResponse, error)
                Update(ctx context.Context, req UpdateNetworkBackendRequest) error
                Targets() *networkBackendTargetService
        }

        networkBackendService struct {
                client *LbaasClient
        }
)

func (s *networkBackendService) Targets() *networkBackendTargetService <span class="cov8" title="1">{
        return &amp;networkBackendTargetService{client: s.client}
}</span>

func (s *networkBackendService) Create(ctx context.Context, req CreateNetworkBackendRequest) (string, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends)

        httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return "", err
        }</span>

        <span class="cov8" title="1">var resp struct {
                ID string `json:"id"`
        }
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return "", err
        }</span>
        <span class="cov8" title="1">return result.ID, nil</span>
}

func (s *networkBackendService) Delete(ctx context.Context, req DeleteNetworkBackendRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends, req.BackendID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}

func (s *networkBackendService) Get(ctx context.Context, req GetNetworkBackendRequest) (*NetworkBackendResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends, req.BackendID)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkBackendResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkBackendService) List(ctx context.Context, req ListNetworkBackendRequest) ([]NetworkBackendResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkPaginatedBackendResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result.Results, nil</span>
}

func (s *networkBackendService) Update(ctx context.Context, req UpdateNetworkBackendRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends, req.BackendID)

        httpReq, err := s.client.newRequest(ctx, http.MethodPut, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		<pre class="file" id="file4" style="display: none">package lbaas

import (
        "context"
        "net/http"

        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const targets = "targets"

type (
        CreateNetworkBackendTargetRequest struct {
                LoadBalancerID   string      `json:"-"`
                NetworkBackendID string      `json:"-"`
                TargetsID        []string    `json:"targets_id"`
                TargetsType      BackendType `json:"targets_type"`
        }

        DeleteNetworkBackendTargetRequest struct {
                LoadBalancerID   string `json:"-"`
                NetworkBackendID string `json:"-"`
                TargetID         string `json:"-"`
        }

        NetworkBackendTargetService interface {
                Create(ctx context.Context, req CreateNetworkBackendTargetRequest) (string, error)
                Delete(ctx context.Context, req DeleteNetworkBackendTargetRequest) error
        }

        networkBackendTargetService struct {
                client *LbaasClient
        }
)

func (s *networkBackendTargetService) Create(ctx context.Context, req CreateNetworkBackendTargetRequest) (string, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends, req.NetworkBackendID, targets)

        httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return "", err
        }</span>

        <span class="cov8" title="1">var resp struct {
                ID string `json:"id"`
        }
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return "", err
        }</span>
        <span class="cov8" title="1">return result.ID, nil</span>
}

func (s *networkBackendTargetService) Delete(ctx context.Context, req DeleteNetworkBackendTargetRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, backends, req.NetworkBackendID, targets, req.TargetID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		<pre class="file" id="file5" style="display: none">package lbaas

import (
        "context"
        "encoding/base64"
        "errors"
        "net/http"

        "github.com/MagaluCloud/mgc-sdk-go/helpers"
        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const tls_certificates = "tls-certificates"

type (
        CreateNetworkCertificateRequest struct {
                LoadBalancerID string  `json:"-"`
                Name           string  `json:"name"`
                Description    *string `json:"description,omitempty"`
                Certificate    string  `json:"certificate"`
                PrivateKey     string  `json:"private_key"`
        }

        DeleteNetworkCertificateRequest struct {
                LoadBalancerID   string `json:"-"`
                TLSCertificateID string `json:"-"`
        }

        GetNetworkCertificateRequest struct {
                LoadBalancerID   string `json:"-"`
                TLSCertificateID string `json:"-"`
        }

        ListNetworkCertificateRequest struct {
                LoadBalancerID string  `json:"-"`
                Offset         *int    `json:"-"`
                Limit          *int    `json:"-"`
                Sort           *string `json:"-"`
        }

        UpdateNetworkCertificateRequest struct {
                LoadBalancerID   string `json:"-"`
                TLSCertificateID string `json:"-"`
                Certificate      string `json:"certificate"`
                PrivateKey       string `json:"private_key"`
        }

        NetworkTLSCertificateResponse struct {
                ID             string  `json:"id"`
                Name           string  `json:"name"`
                ExpirationDate *string `json:"expiration_date,omitempty"`
                Description    *string `json:"description,omitempty"`
                CreatedAt      string  `json:"created_at"`
                UpdatedAt      string  `json:"updated_at"`
        }

        NetworkPaginatedTLSCertificateResponse struct {
                Meta    interface{}                     `json:"meta"`
                Results []NetworkTLSCertificateResponse `json:"results"`
        }

        NetworkCertificateService interface {
                Create(ctx context.Context, req CreateNetworkCertificateRequest) (*NetworkTLSCertificateResponse, error)
                Delete(ctx context.Context, req DeleteNetworkCertificateRequest) error
                Get(ctx context.Context, req GetNetworkCertificateRequest) (*NetworkTLSCertificateResponse, error)
                List(ctx context.Context, req ListNetworkCertificateRequest) ([]NetworkTLSCertificateResponse, error)
                Update(ctx context.Context, req UpdateNetworkCertificateRequest) error
        }

        networkCertificateService struct {
                client *LbaasClient
        }
)

func (s *networkCertificateService) Create(ctx context.Context, req CreateNetworkCertificateRequest) (*NetworkTLSCertificateResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, tls_certificates)

        // validate if certificate and private key are base64 encoded
        if _, err := base64.StdEncoding.DecodeString(req.Certificate); err != nil </span><span class="cov8" title="1">{
                return nil, errors.New("certificate is not base64 encoded")
        }</span>
        <span class="cov8" title="1">if _, err := base64.StdEncoding.DecodeString(req.PrivateKey); err != nil </span><span class="cov0" title="0">{
                return nil, errors.New("private key is not base64 encoded")
        }</span>

        <span class="cov8" title="1">httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkTLSCertificateResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkCertificateService) Delete(ctx context.Context, req DeleteNetworkCertificateRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, tls_certificates, req.TLSCertificateID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}

func (s *networkCertificateService) Get(ctx context.Context, req GetNetworkCertificateRequest) (*NetworkTLSCertificateResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, tls_certificates, req.TLSCertificateID)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkTLSCertificateResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkCertificateService) List(ctx context.Context, req ListNetworkCertificateRequest) ([]NetworkTLSCertificateResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, tls_certificates)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov8" title="1">query := helpers.NewQueryParams(httpReq)
        query.AddReflect("_offset", req.Offset)
        query.AddReflect("_limit", req.Limit)
        query.Add("_sort", req.Sort)
        httpReq.URL.RawQuery = query.Encode()

        var resp NetworkPaginatedTLSCertificateResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result.Results, nil</span>
}

func (s *networkCertificateService) Update(ctx context.Context, req UpdateNetworkCertificateRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, tls_certificates, req.TLSCertificateID)

        httpReq, err := s.client.newRequest(ctx, http.MethodPut, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		<pre class="file" id="file6" style="display: none">package lbaas

import (
        "context"
        "net/http"

        "github.com/MagaluCloud/mgc-sdk-go/helpers"
        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const health_checks = "health-checks"

type (
        CreateNetworkHealthCheckRequest struct {
                LoadBalancerID          string              `json:"-"`
                Name                    string              `json:"name"`
                Description             *string             `json:"description,omitempty"`
                Protocol                HealthCheckProtocol `json:"protocol"`
                Path                    *string             `json:"path,omitempty"`
                Port                    int                 `json:"port"`
                HealthyStatusCode       *int                `json:"healthy_status_code,omitempty"`
                IntervalSeconds         *int                `json:"interval_seconds,omitempty"`
                TimeoutSeconds          *int                `json:"timeout_seconds,omitempty"`
                InitialDelaySeconds     *int                `json:"initial_delay_seconds,omitempty"`
                HealthyThresholdCount   *int                `json:"healthy_threshold_count,omitempty"`
                UnhealthyThresholdCount *int                `json:"unhealthy_threshold_count,omitempty"`
        }

        DeleteNetworkHealthCheckRequest struct {
                LoadBalancerID string `json:"-"`
                HealthCheckID  string `json:"-"`
        }

        GetNetworkHealthCheckRequest struct {
                LoadBalancerID string `json:"-"`
                HealthCheckID  string `json:"-"`
        }

        ListNetworkHealthCheckRequest struct {
                LoadBalancerID string  `json:"-"`
                Offset         *int    `json:"-"`
                Limit          *int    `json:"-"`
                Sort           *string `json:"-"`
        }

        UpdateNetworkHealthCheckRequest struct {
                LoadBalancerID          string              `json:"-"`
                HealthCheckID           string              `json:"-"`
                Protocol                HealthCheckProtocol `json:"protocol"`
                Path                    *string             `json:"path,omitempty"`
                Port                    int                 `json:"port"`
                HealthyStatusCode       *int                `json:"healthy_status_code,omitempty"`
                IntervalSeconds         *int                `json:"interval_seconds,omitempty"`
                TimeoutSeconds          *int                `json:"timeout_seconds,omitempty"`
                InitialDelaySeconds     *int                `json:"initial_delay_seconds,omitempty"`
                HealthyThresholdCount   *int                `json:"healthy_threshold_count,omitempty"`
                UnhealthyThresholdCount *int                `json:"unhealthy_threshold_count,omitempty"`
        }

        NetworkHealthCheckResponse struct {
                ID                      string              `json:"id"`
                Name                    string              `json:"name"`
                Description             *string             `json:"description,omitempty"`
                Protocol                HealthCheckProtocol `json:"protocol"`
                Path                    *string             `json:"path,omitempty"`
                Port                    int                 `json:"port"`
                HealthyStatusCode       int                 `json:"healthy_status_code"`
                IntervalSeconds         int                 `json:"interval_seconds"`
                TimeoutSeconds          int                 `json:"timeout_seconds"`
                InitialDelaySeconds     int                 `json:"initial_delay_seconds"`
                HealthyThresholdCount   int                 `json:"healthy_threshold_count"`
                UnhealthyThresholdCount int                 `json:"unhealthy_threshold_count"`
                CreatedAt               string              `json:"created_at"`
                UpdatedAt               string              `json:"updated_at"`
        }

        NetworkPaginatedHealthCheckResponse struct {
                Meta    interface{}                  `json:"meta"`
                Results []NetworkHealthCheckResponse `json:"results"`
        }

        NetworkHealthCheckService interface {
                Create(ctx context.Context, req CreateNetworkHealthCheckRequest) (*NetworkHealthCheckResponse, error)
                Delete(ctx context.Context, req DeleteNetworkHealthCheckRequest) error
                Get(ctx context.Context, req GetNetworkHealthCheckRequest) (*NetworkHealthCheckResponse, error)
                List(ctx context.Context, req ListNetworkHealthCheckRequest) ([]NetworkHealthCheckResponse, error)
                Update(ctx context.Context, req UpdateNetworkHealthCheckRequest) error
        }

        networkHealthCheckService struct {
                client *LbaasClient
        }
)

func (s *networkHealthCheckService) Create(ctx context.Context, req CreateNetworkHealthCheckRequest) (*NetworkHealthCheckResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, health_checks)

        httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkHealthCheckResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkHealthCheckService) Delete(ctx context.Context, req DeleteNetworkHealthCheckRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, health_checks, req.HealthCheckID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}

func (s *networkHealthCheckService) Get(ctx context.Context, req GetNetworkHealthCheckRequest) (*NetworkHealthCheckResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, health_checks, req.HealthCheckID)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkHealthCheckResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkHealthCheckService) List(ctx context.Context, req ListNetworkHealthCheckRequest) ([]NetworkHealthCheckResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, health_checks)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">query := helpers.NewQueryParams(httpReq)
        query.AddReflect("_offset", req.Offset)
        query.AddReflect("_limit", req.Limit)
        query.Add("_sort", req.Sort)
        httpReq.URL.RawQuery = query.Encode()

        var resp NetworkPaginatedHealthCheckResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result.Results, nil</span>
}

func (s *networkHealthCheckService) Update(ctx context.Context, req UpdateNetworkHealthCheckRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, health_checks, req.HealthCheckID)

        httpReq, err := s.client.newRequest(ctx, http.MethodPut, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		<pre class="file" id="file7" style="display: none">package lbaas

import (
        "context"
        "net/http"

        "github.com/MagaluCloud/mgc-sdk-go/helpers"
        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

const listeners = "listeners"

type (
        CreateNetworkListenerRequest struct {
                LoadBalancerID   string           `json:"-"`
                BackendID        string           `json:"-"`
                TLSCertificateID *string          `json:"tls_certificate_id,omitempty"`
                Name             string           `json:"name"`
                Description      *string          `json:"description,omitempty"`
                Protocol         ListenerProtocol `json:"protocol"`
                Port             int              `json:"port"`
        }

        DeleteNetworkListenerRequest struct {
                LoadBalancerID string `json:"-"`
                ListenerID     string `json:"-"`
        }

        GetNetworkListenerRequest struct {
                LoadBalancerID string `json:"-"`
                ListenerID     string `json:"-"`
        }

        ListNetworkListenerRequest struct {
                LoadBalancerID string  `json:"-"`
                Offset         *int    `json:"-"`
                Limit          *int    `json:"-"`
                Sort           *string `json:"-"`
        }

        UpdateNetworkListenerRequest struct {
                LoadBalancerID   string  `json:"-"`
                ListenerID       string  `json:"-"`
                TLSCertificateID *string `json:"tls_certificate_id,omitempty"`
        }

        NetworkListenerResponse struct {
                ID               string           `json:"id"`
                TLSCertificateID *string          `json:"tls_certificate_id,omitempty"`
                BackendID        string           `json:"backend_id"`
                Name             string           `json:"name"`
                Description      *string          `json:"description,omitempty"`
                Protocol         ListenerProtocol `json:"protocol"`
                Port             int              `json:"port"`
                CreatedAt        string           `json:"created_at"`
                UpdatedAt        string           `json:"updated_at"`
        }

        NetworkPaginatedListenerResponse struct {
                Meta    interface{}               `json:"meta"`
                Results []NetworkListenerResponse `json:"results"`
        }

        NetworkListenerService interface {
                Create(ctx context.Context, req CreateNetworkListenerRequest) (*NetworkListenerResponse, error)
                Delete(ctx context.Context, req DeleteNetworkListenerRequest) error
                Get(ctx context.Context, req GetNetworkListenerRequest) (*NetworkListenerResponse, error)
                List(ctx context.Context, req ListNetworkListenerRequest) ([]NetworkListenerResponse, error)
                Update(ctx context.Context, req UpdateNetworkListenerRequest) error
        }

        networkListenerService struct {
                client *LbaasClient
        }
)

func (s *networkListenerService) Create(ctx context.Context, req CreateNetworkListenerRequest) (*NetworkListenerResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, listeners)

        httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        // Adicionar backend_id como query parameter obrigatório
        <span class="cov8" title="1">query := httpReq.URL.Query()
        query.Set("backend_id", req.BackendID)
        httpReq.URL.RawQuery = query.Encode()

        var resp NetworkListenerResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkListenerService) Delete(ctx context.Context, req DeleteNetworkListenerRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, listeners, req.ListenerID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}

func (s *networkListenerService) Get(ctx context.Context, req GetNetworkListenerRequest) (*NetworkListenerResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, listeners, req.ListenerID)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkListenerResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

type QueryParam struct {
        Name  string
        Value string
}

func prepareQueryParams(httpReq *http.Request, req ...QueryParam) (string, error) <span class="cov0" title="0">{
        query := httpReq.URL.Query()

        for _, r := range req </span><span class="cov0" title="0">{
                query.Set(r.Name, r.Value)
        }</span>

        <span class="cov0" title="0">return query.Encode(), nil</span>
}

func (s *networkListenerService) List(ctx context.Context, req ListNetworkListenerRequest) ([]NetworkListenerResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, listeners)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">query := helpers.NewQueryParams(httpReq)
        query.AddReflect("_offset", req.Offset)
        query.AddReflect("_limit", req.Limit)
        query.Add("_sort", req.Sort)
        httpReq.URL.RawQuery = query.Encode()

        var resp NetworkPaginatedListenerResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result.Results, nil</span>
}

func (s *networkListenerService) Update(ctx context.Context, req UpdateNetworkListenerRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID, listeners, req.ListenerID)

        httpReq, err := s.client.newRequest(ctx, http.MethodPut, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		<pre class="file" id="file8" style="display: none">package lbaas

import (
        "context"
        "net/http"
        "strconv"

        "github.com/MagaluCloud/mgc-sdk-go/helpers"
        mgc_http "github.com/MagaluCloud/mgc-sdk-go/internal/http"
)

type (
        // Structs auxiliares para criação de Load Balancer
        NetworkListenerRequest struct {
                TLSCertificateName *string          `json:"tls_certificate_name,omitempty"`
                Name               string           `json:"name"`
                Description        *string          `json:"description,omitempty"`
                BackendName        string           `json:"backend_name"`
                Protocol           ListenerProtocol `json:"protocol"`
                Port               int              `json:"port"`
        }

        NetworkBackendRequest struct {
                HealthCheckName  *string                       `json:"health_check_name,omitempty"`
                Name             string                        `json:"name"`
                Description      *string                       `json:"description,omitempty"`
                BalanceAlgorithm BackendBalanceAlgorithm       `json:"balance_algorithm"`
                TargetsType      BackendType                   `json:"targets_type"`
                Targets          *TargetsRawOrInstancesRequest `json:"targets,omitempty"`
        }

        NetworkHealthCheckRequest struct {
                Name                    string              `json:"name"`
                Description             *string             `json:"description,omitempty"`
                Protocol                HealthCheckProtocol `json:"protocol"`
                Path                    *string             `json:"path,omitempty"`
                Port                    int                 `json:"port"`
                HealthyStatusCode       *int                `json:"healthy_status_code,omitempty"`
                IntervalSeconds         *int                `json:"interval_seconds,omitempty"`
                TimeoutSeconds          *int                `json:"timeout_seconds,omitempty"`
                InitialDelaySeconds     *int                `json:"initial_delay_seconds,omitempty"`
                HealthyThresholdCount   *int                `json:"healthy_threshold_count,omitempty"`
                UnhealthyThresholdCount *int                `json:"unhealthy_threshold_count,omitempty"`
        }

        NetworkTLSCertificateRequest struct {
                Name        string  `json:"name"`
                Description *string `json:"description,omitempty"`
                Certificate string  `json:"certificate"`
                PrivateKey  string  `json:"private_key"`
        }

        NetworkAclRequest struct {
                Name           *string       `json:"name,omitempty"`
                Ethertype      AclEtherType  `json:"ethertype"`
                Protocol       AclProtocol   `json:"protocol"`
                RemoteIPPrefix string        `json:"remote_ip_prefix"`
                Action         AclActionType `json:"action"`
        }

        CreateNetworkLoadBalancerRequest struct {
                Name            string                         `json:"name"`
                Description     *string                        `json:"description,omitempty"`
                Type            *string                        `json:"type,omitempty"`
                Visibility      LoadBalancerVisibility         `json:"visibility"`
                Listeners       []NetworkListenerRequest       `json:"listeners"`
                Backends        []NetworkBackendRequest        `json:"backends"`
                HealthChecks    []NetworkHealthCheckRequest    `json:"health_checks,omitempty"`
                TLSCertificates []NetworkTLSCertificateRequest `json:"tls_certificates,omitempty"`
                ACLs            []NetworkAclRequest            `json:"acls,omitempty"`
                VPCID           string                         `json:"vpc_id"`
                SubnetPoolID    *string                        `json:"subnet_pool_id,omitempty"`
                PublicIPID      *string                        `json:"public_ip_id,omitempty"`
                PanicThreshold  *int                           `json:"panic_threshold,omitempty"`
        }

        DeleteNetworkLoadBalancerRequest struct {
                LoadBalancerID string `json:"-"`
                DeletePublicIP *bool  `json:"-"`
        }

        GetNetworkLoadBalancerRequest struct {
                LoadBalancerID string `json:"-"`
        }

        ListNetworkLoadBalancerRequest struct {
                Offset *int    `json:"-"`
                Limit  *int    `json:"-"`
                Sort   *string `json:"-"`
        }

        NetworkBackendUpdateRequest struct {
                ID            string                              `json:"id"`
                HealthCheckID *string                             `json:"health_check_id,omitempty"`
                TargetsType   BackendType                         `json:"targets_type"`
                Targets       *TargetsRawOrInstancesUpdateRequest `json:"targets,omitempty"`
        }

        UpdateNetworkLoadBalancerRequest struct {
                LoadBalancerID  string                               `json:"-"`
                Name            *string                              `json:"name,omitempty"`
                Description     *string                              `json:"description,omitempty"`
                Backends        []NetworkBackendUpdateRequest        `json:"backends,omitempty"`
                HealthChecks    []NetworkHealthCheckUpdateRequest    `json:"health_checks,omitempty"`
                TLSCertificates []NetworkTLSCertificateUpdateRequest `json:"tls_certificates,omitempty"`
                PanicThreshold  *int                                 `json:"panic_threshold,omitempty"`
        }

        NetworkHealthCheckUpdateRequest struct {
                ID                      string              `json:"id"`
                Protocol                HealthCheckProtocol `json:"protocol"`
                Path                    *string             `json:"path,omitempty"`
                Port                    int                 `json:"port"`
                HealthyStatusCode       *int                `json:"healthy_status_code,omitempty"`
                IntervalSeconds         *int                `json:"interval_seconds,omitempty"`
                TimeoutSeconds          *int                `json:"timeout_seconds,omitempty"`
                InitialDelaySeconds     *int                `json:"initial_delay_seconds,omitempty"`
                HealthyThresholdCount   *int                `json:"healthy_threshold_count,omitempty"`
                UnhealthyThresholdCount *int                `json:"unhealthy_threshold_count,omitempty"`
        }

        NetworkTLSCertificateUpdateRequest struct {
                ID          string `json:"id"`
                Certificate string `json:"certificate"`
                PrivateKey  string `json:"private_key"`
        }

        // Response structs
        NetworkPublicIPResponse struct {
                ID         string  `json:"id"`
                IPAddress  *string `json:"ip_address,omitempty"`
                ExternalID string  `json:"external_id"`
        }

        NetworkAclResponse struct {
                ID             string       `json:"id"`
                Name           *string      `json:"name,omitempty"`
                Ethertype      AclEtherType `json:"ethertype"`
                Protocol       AclProtocol  `json:"protocol"`
                RemoteIPPrefix string       `json:"remote_ip_prefix"`
                Action         string       `json:"action"`
        }

        NetworkLoadBalancerResponse struct {
                ID                  string                          `json:"id"`
                Name                string                          `json:"name"`
                ProjectType         *string                         `json:"project_type,omitempty"`
                Description         *string                         `json:"description,omitempty"`
                Type                string                          `json:"type"`
                Visibility          LoadBalancerVisibility          `json:"visibility"`
                Status              string                          `json:"status"`
                Listeners           []NetworkListenerResponse       `json:"listeners"`
                Backends            []NetworkBackendResponse        `json:"backends"`
                HealthChecks        []NetworkHealthCheckResponse    `json:"health_checks"`
                PublicIPs           []NetworkPublicIPResponse       `json:"public_ips"`
                TLSCertificates     []NetworkTLSCertificateResponse `json:"tls_certificates"`
                ACLs                []NetworkAclResponse            `json:"acls"`
                IPAddress           *string                         `json:"ip_address,omitempty"`
                Port                *string                         `json:"port,omitempty"`
                VPCID               string                          `json:"vpc_id"`
                SubnetPoolID        *string                         `json:"subnet_pool_id,omitempty"`
                CreatedAt           string                          `json:"created_at"`
                UpdatedAt           string                          `json:"updated_at"`
                LastOperationStatus *string                         `json:"last_operation_status,omitempty"`
        }

        NetworkLBPaginatedResponse struct {
                Results []NetworkLoadBalancerResponse `json:"results"`
        }

        NetworkLoadBalancerService interface {
                Create(ctx context.Context, req CreateNetworkLoadBalancerRequest) (string, error)
                Delete(ctx context.Context, req DeleteNetworkLoadBalancerRequest) error
                Get(ctx context.Context, req GetNetworkLoadBalancerRequest) (*NetworkLoadBalancerResponse, error)
                List(ctx context.Context, req ListNetworkLoadBalancerRequest) ([]NetworkLoadBalancerResponse, error)
                Update(ctx context.Context, req UpdateNetworkLoadBalancerRequest) error
        }

        networkLoadBalancerService struct {
                client *LbaasClient
        }
)

func (s *networkLoadBalancerService) Create(ctx context.Context, req CreateNetworkLoadBalancerRequest) (string, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(nil)

        httpReq, err := s.client.newRequest(ctx, http.MethodPost, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return "", err
        }</span>

        <span class="cov8" title="1">var resp struct {
                ID string `json:"id"`
        }
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return "", err
        }</span>
        <span class="cov8" title="1">return result.ID, nil</span>
}

func (s *networkLoadBalancerService) Delete(ctx context.Context, req DeleteNetworkLoadBalancerRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID)

        httpReq, err := s.client.newRequest(ctx, http.MethodDelete, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        // Adicionar query parameter delete_public_ip se fornecido
        <span class="cov8" title="1">if req.DeletePublicIP != nil </span><span class="cov8" title="1">{
                query := httpReq.URL.Query()
                query.Set("delete_public_ip", strconv.FormatBool(*req.DeletePublicIP))
                httpReq.URL.RawQuery = query.Encode()
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}

func (s *networkLoadBalancerService) Get(ctx context.Context, req GetNetworkLoadBalancerRequest) (*NetworkLoadBalancerResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>

        <span class="cov8" title="1">var resp NetworkLoadBalancerResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result, nil</span>
}

func (s *networkLoadBalancerService) List(ctx context.Context, req ListNetworkLoadBalancerRequest) ([]NetworkLoadBalancerResponse, error) <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(nil)

        httpReq, err := s.client.newRequest(ctx, http.MethodGet, path, nil)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov8" title="1">query := helpers.NewQueryParams(httpReq)
        query.AddReflect("_offset", req.Offset)
        query.AddReflect("_limit", req.Limit)
        query.Add("_sort", req.Sort)
        httpReq.URL.RawQuery = query.Encode()

        var resp NetworkLBPaginatedResponse
        result, err := mgc_http.Do(s.client.GetConfig(), ctx, httpReq, &amp;resp)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return result.Results, nil</span>
}

func (s *networkLoadBalancerService) Update(ctx context.Context, req UpdateNetworkLoadBalancerRequest) error <span class="cov8" title="1">{
        path := urlNetworkLoadBalancer(&amp;req.LoadBalancerID)

        httpReq, err := s.client.newRequest(ctx, http.MethodPut, path, req)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">_, err = mgc_http.Do[any](s.client.GetConfig(), ctx, httpReq, nil)
        return err</span>
}
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
